(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{12:function(e,t,n){e.exports=n(25)},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var r,a,c,o,l=n(0),u=n.n(l),i=n(5),s=n.n(i),d=n(2),m=n(4),f=n(10),p=n(11),b=n(3),v=n(1),h="https://mate-api.herokuapp.com",E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch("".concat(h).concat(e),t).then((function(e){return e.json()})).then((function(e){return e.data}))},O="todos/add",g="todos/update",j=(r={},Object(v.a)(r,"todos/load",(function(){return function(e){E("/todos").then((function(t){e(j[O](t))}))}})),Object(v.a)(r,"todos/delete",(function(e){return function(t){(function(e){return E("/todos/".concat(e),{method:"DELETE"})})(e).then((function(){t(j[g](e))}))}})),Object(v.a)(r,O,(function(e){return{type:O,value:e}})),Object(v.a)(r,g,(function(e){return{type:g,id:e}})),r),_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var n=t.value;return Array.isArray(n)?[].concat(Object(b.a)(e),Object(b.a)(n)):[].concat(Object(b.a)(e),[n]);case g:return e.filter((function(e){return e.id!==t.id}));default:return e}},y="userId/set",F="userId/clear",N=(a={},Object(v.a)(a,y,(function(e){return{type:y,id:e}})),Object(v.a)(a,F,(function(){return{type:F}})),a),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return t.id;case F:return 0;default:return e}},k=(c={},Object(v.a)(c,"titleFilter/set",(function(e){return{type:"titleFilter/set",value:e}})),Object(v.a)(c,"titleFilter/clear",(function(){return{type:"titleFilter/clear"}})),c),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"titleFilter/set":return t.value;case"titleFilter/clear":return"";default:return e}},w=Object(v.a)({},"todosFiltering/set",(function(e){return{type:"todosFiltering/set",filter:e}})),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"todosFiltering/set":return t.filter;default:return e}},I="randomize/switch",L=Object(v.a)({},I,(function(){return{type:I}})),A=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return!e;default:return e}},x="user/choose",S=(o={},Object(v.a)(o,"user/load",(function(e){return function(t){var n;(n=e,E("/users/".concat(n))).then((function(e){t(S[x](e))}))}})),Object(v.a)(o,x,(function(e){return{type:x,user:e}})),o),z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return t.user;default:return e}},B=function(e){return e.todos},M=function(e){return e.userId},D=function(e){return e.titleFilter},J=function(e){return e.todosFiltering},R=function(e){return e.randomOrder},q=function(e){return e.user},P=Object(m.combineReducers)({todos:_,userId:C,titleFilter:T,todosFiltering:U,randomOrder:A,user:z}),W=Object(m.createStore)(P,{todos:[],userId:0,titleFilter:"",todosFiltering:"all",randomOrder:!1,user:null},Object(p.composeWithDevTools)(Object(m.applyMiddleware)(f.a))),G=n(6),H=n.n(G);n(21);function K(e){var t=e.todos,n=e.selectedUser,r=e.selectUser,a=Object(d.c)(D),c=Object(d.c)(J),o=Object(d.c)(R),i=Object(d.b)(),s=Object(l.useCallback)((function(e){switch(c){case"active":return e.filter((function(e){return!e.completed}));case"completed":return e.filter((function(e){return e.completed}));default:return e}}),[c]),m=Object(l.useCallback)((function(e){for(var t,n=[],r=e.length;r;)t=Math.floor(Math.random()*r--),n.push(e.splice(t,1)[0]);return n}),[]),f=Object(l.useCallback)((function(e,t){return e&&e.includes(t)}),[]),p=s(Object(b.a)(t));return o&&(p=m(p)),u.a.createElement("div",{className:"TodoList"},u.a.createElement("h2",null,"Todos:"),u.a.createElement("label",{htmlFor:"filterByTitle"},"Filter todos by title ",u.a.createElement("input",{className:"sorting-input",type:"text",placeholder:"Enter a query",id:"filterByTitle",value:a,onChange:function(e){var t=e.target;i(k["titleFilter/set"](t.value))}})),u.a.createElement("select",{className:"sorting-input",name:"sortingTodos",id:"sortingTodos",value:c,onChange:function(e){var t=e.target;i(w["todosFiltering/set"](t.value))}},u.a.createElement("option",{value:"all"},"Show all todos"),u.a.createElement("option",{value:"active"},"Show uncompleted todos"),u.a.createElement("option",{value:"completed"},"Show completed todos")),u.a.createElement("button",{type:"button",className:H()("sorting-input",{"randomize-active":o,"randomize-inactive":!o}),onClick:function(){i(L[I]())}},"Randomize"),u.a.createElement("div",{className:"TodoList__list-container"},u.a.createElement("ul",{className:"TodoList__list"},p.map((function(e){return f(null===e||void 0===e?void 0:e.title,a)?u.a.createElement("li",{className:H()("TodoList__item",{"TodoList__item--checked":e.completed,"TodoList__item--unchecked":!e.completed}),key:e.id},u.a.createElement("label",null,u.a.createElement("input",{type:"checkbox",readOnly:!0,checked:e.completed}),u.a.createElement("p",null,e.title)),u.a.createElement("div",{className:"TodoList__button-wrapper"},u.a.createElement("button",{className:H()("TodoList__user-button","button",{"button--selected":n===e.userId}),type:"button",onClick:function(){r(e.userId)}},e.userId?u.a.createElement(u.a.Fragment,null,"User\xa0#",e.userId):u.a.createElement(u.a.Fragment,null,"not assigned")),u.a.createElement("button",{className:"TodoList__user-button button",type:"button",onClick:function(){i(j["todos/delete"](e.id))}},"delete todo"))):null})))))}K.defaultProps={todos:[],selectedUser:0};n(22);function Q(e){var t=e.userId,n=e.clearUser,r=Object(d.c)(q),a=Object(d.b)();return Object(l.useEffect)((function(){a(S["user/load"](t))}),[t,a]),u.a.createElement("div",{className:"CurrentUser"},r?u.a.createElement(u.a.Fragment,null,u.a.createElement("h2",{className:"CurrentUser__title"},u.a.createElement("span",null,"Selected user: ".concat(r.id))),u.a.createElement("h3",{className:"CurrentUser__name"},r.name),u.a.createElement("p",{className:"CurrentUser__email"},r.email),u.a.createElement("p",{className:"CurrentUser__phone"},r.phone),u.a.createElement("button",{className:"CurrentUser__clear button",type:"button",onClick:function(){n()}},"Clear selected user")):u.a.createElement(u.a.Fragment,null,"Loading..."))}n(23),n(24);var V=function(){var e=Object(d.c)(B),t=Object(d.c)(M),n=Object(d.b)();Object(l.useEffect)((function(){n(j["todos/load"]())}),[n]);var r=Object(l.useCallback)((function(e){n(N[y](e))}),[n]),a=Object(l.useCallback)((function(){n(N[F]())}),[n]);return u.a.createElement("div",{className:"App"},u.a.createElement("div",{className:"App__sidebar"},u.a.createElement(K,{todos:e,selectedUser:t,selectUser:r})),u.a.createElement("div",{className:"App__content"},u.a.createElement("div",{className:"App__content-container"},t?u.a.createElement(Q,{userId:t,clearUser:a}):"No user selected")))},X=function(){return u.a.createElement(d.a,{store:W},u.a.createElement(V,null))};s.a.render(u.a.createElement(X,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.8536b204.chunk.js.map